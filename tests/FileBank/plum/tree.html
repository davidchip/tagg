<plum-tree definition fruits="30">
    <style>
        plum-fruit {
            background-color:purple;
            border-radius:50%;
            display:block;
            height:10px;
            position:absolute;
            width:10px;
            -webkit-transition: all 1s ease-in-out;
        }
    
        plum-tree {
            display:block;
            position:relative;
            height:250px;
            width:250px;
        }
    </style>

    <definition-script>
        this.changed = function(name, oldVal, newVal) {
            if (name === "fruits") {
                return this.drawFruits();
            }
        }

        this.drawFruits = function() {
            var plums, remainingFruits, size;
            plums = this.getElementsByTagName("plum-fruit");
            remainingFruits = this.fruits - (plums.length);

            if (remainingFruits > 0) {
                while (remainingFruits > 0) {
                    el = this;
                    tag.create("plum-fruit").then(function(fruit){
                        el.appendChild(fruit);
                    });
                    remainingFruits--;
                }
            } else if (remainingFruits < 0) {
                while (remainingFruits < 0) {
                    this.removeChild(plums[0])
                    remainingFruits++;
                }
            }
        }
    </definition-script>
</plum-tree>