<!doctype html>
<html lang="en">


<head>
  <meta charset="utf-8">
  <title>firecracker</title>

  <link href="libs/reset.css" rel="stylesheet" type="text/css" />

  <script src="bower_components/jquery/dist/jquery.min.js" type="text/javascript" ></script>
  <script src="bower_components/platform/platform.js" type="text/javascript" ></script>
  
  <script src="bower_components/three.js/three.min.js" type="text/javascript" ></script>
</head>


<body style="background:#fff;">

  <link rel="import" href="elements/worlds/world-desert/world-desert.html">
  <link rel="import" href="elements/viewers/viewer-cyclops/viewer-cyclops.html">
  <link rel="import" href="elements/viewers/viewer-vr/viewer-vr.html">
  <link rel="import" href="elements/particles/room-basic/room-basic.html">
  <link rel="import" href="elements/particles/d3-wirecube/d3-wirecube.html">
  <link rel="import" href="elements/particles/d3-icosahedron/d3-icosahedron.html">
  
  <world-desert>
    
    <viewer-vr x="0" y="7" z="30">
    </viewer-vr>
    
    <room-basic w="40" z="-15">
    </room-basic>
    
    <d3-wirecube color="green" x="12" y="5" z="-6" rpmx="40" rpmy="10">
    </d3-wirecube>

    <d3-wirecube color="white" x="-12" y="5" z="-6" rpmx="40">
    </d3-wirecube>

    <d3-icosahedron color="white" r="5" color="white" rpmy="12" rpmz="8">
    </d3-icosahedron>

    <d3-icosahedron color="black" r="2.5" color="black" rpmx="22" rpmz="18">
    </d3-icosahedron>

  </world-desert>


  <!-- Shaders -->
  <script type="x-shader/x-vertex" id="vertexShader">
    varying vec3 vWorldPosition;

    void main() {

      vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
      vWorldPosition = worldPosition.xyz;

      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  </script>

  <script type="x-shader/x-fragment" id="fragmentShader">
    uniform vec3 topColor;
    uniform vec3 bottomColor;
    uniform float offset;
    uniform float exponent;

    varying vec3 vWorldPosition;

    void main() {

      float h = normalize( vWorldPosition + offset ).y;
      gl_FragColor = vec4( mix( bottomColor, topColor, max( pow( max( h , 0.0), exponent ), 0.0 ) ), 1.0 );

    }
  </script>


</body>
</html>

